<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>pagespec</title>

<link rel="stylesheet" href="../../style.css" type="text/css" />
<link rel="stylesheet" href="../../local.css" type="text/css" />



</head>
<body>

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">

<a href="./../../">wiki</a>/ 

<a href="./../">ikiwiki</a>/ 

</span>
<span class="title">
pagespec
</span>
</span><!--.header-->

</div>


</div> <!-- .pageheader -->



<div id="content">
<p>[[!meta robots="noindex, follow"]]
To select a set of pages, such as pages that are locked, pages
whose commit emails you want subscribe to, or pages to combine into a
blog, the wiki uses a PageSpec. This is an expression that matches
a set of pages.</p>

<p>The simplest PageSpec is a simple list of pages. For example, this matches
any of the three listed pages:</p>

<pre><code>foo or bar or baz
</code></pre>

<p>More often you will want to match any pages that have a particular thing in
their name. You can do this using a glob pattern. "<code>*</code>" stands for any part
of a page name, and "<code>?</code>" for any single letter of a page name. So this
matches all pages about music, and any <a href="./../subpage/">SubPage</a>s of the SandBox, but does
not match the SandBox itself:</p>

<pre><code>*music* or SandBox/*
</code></pre>

<p>You can also prefix an item with "<code>!</code>" to skip pages that match it. So to
match all pages except for Discussion pages and the SandBox:</p>

<pre><code>* and !SandBox and !*/Discussion
</code></pre>

<p>Some more elaborate limits can be added to what matches using any of these
functions:</p>

<ul>
<li>"<code>link(page)</code>" - match only pages that link to a given page (or glob)</li>
<li>"<code>backlink(page)</code>" - match only pages that a given page links to</li>
<li>"<code>creation_month(month)</code>" - match only pages created on the given month</li>
<li>"<code>creation_day(mday)</code>" - or day of the month</li>
<li>"<code>creation_year(year)</code>" - or year</li>
<li>"<code>created_after(page)</code>" - match only pages created after the given page
was created</li>
<li>"<code>created_before(page)</code>" - match only pages created before the given page
was created</li>
<li>"<code>glob(someglob)</code>" - match pages that match the given glob. Just writing
the glob by itself is actually a shorthand for this function.</li>
<li>"<code>internal(glob)</code>" - like <code>glob()</code>, but matches even internal-use 
pages that globs do not usually match.</li>
<li>"<code>title(glob)</code>", "<code>author(glob)</code>", "<code>authorurl(glob)</code>",
"<code>license(glob)</code>", "<code>copyright(glob)</code>" - match pages that have the given
metadata, matching the specified glob.</li>
</ul>

<p>For example, to match all pages in a blog that link to the page about music
and were written in 2005:</p>

<pre><code>blog/* and link(music) and creation_year(2005)
</code></pre>

<p>Note the use of "and" in the above example, that means that only pages that
match each of the three expressions match the whole. Use "and" when you
want to combine expression like that; "or" when it's enough for a page to
match one expression. Note that it doesn't make sense to say "index and
SandBox", since no page can match both expressions.</p>

<p>More complex expressions can also be created, by using parentheses for
grouping. For example, to match pages in a blog that are tagged with either
of two tags, use:</p>

<pre><code>blog/* and (link(tag/foo) or link(tag/bar))
</code></pre>

<p>Note that page names in PageSpecs are matched against the absolute
filenames of the pages in the wiki, so a pagespec "foo" used on page
"a/b" will not match a page named "a/foo" or "a/b/foo". To match
relative to the directory of the page containing the pagespec, you can
use "./". For example, "./foo" on page "a/b" matches page "a/foo".</p>

<h2>Old syntax</h2>

<p>The old PageSpec syntax was called a "GlobList", and worked differently in
two ways:</p>

<ol>
<li>"and" and "or" were not used; any page matching any item from the list
matched.</li>
<li>If an item was prefixed with "<code>!</code>", then no page matching that item
matched, even if it matched an earlier list item.</li>
</ol>

<p>For example, here is the old way to match all pages except for the SandBox
and Discussion pages:</p>

<pre><code>* !SandBox !*/Discussion
</code></pre>

<p>Using this old syntax is still supported. However, the old syntax is
deprecated and will be removed at some point, and using the new syntax is
recommended.</p>

</div>

<div id="footer" class="pagefooter">
<div id="pageinfo">




<div id="backlinks">
Links:

<a href="./../blog/">blog</a>

<a href="./../">ikiwiki</a>

<a href="./../../pagespec/">pagespec</a>

<a href="./attachment/">pagespec/attachment</a>


</div><!-- #backlinks -->






<div class="pagedate">
Last edited Mon 04 Aug 2008 06:43:27 PM CEST
<!-- Created Mon 04 Aug 2008 06:43:27 PM CEST -->
</div>

</div><!-- #pageinfo -->

<!-- from wiki -->
</div><!-- .pagefooter #footer -->

</body>
</html>
